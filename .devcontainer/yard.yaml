# yaml-language-server: $schema=https://raw.githubusercontent.com/mcmah309/containeryard/master/src/schemas/yard-schema.json

inputs:
  remotes:
    - url: https://github.com/mcmah309/containeryard_repository
      commit: 10b42c6d1c3aed7ad9d87163e7cb3cd66b5ccbb5
      modules:
        base: bases/ubuntu/base
        rust: apt/rust/base
        rust_essentials: apt/rust/essentials
        rust_components: independent/rust/components
        git: apt/git
        # git_config: independent/git_config
        bash_flavor: apt/bash_interactive/flavors/mcmah309

outputs:
  # Output Containerfile created from modules
  Containerfile:
    - base:
    - rust:
    - rust_essentials:
    - rust_components:
    - git:
    # - git_config:
    #     user_name: test_user
    #     email: test_user@email.com
    - bash_flavor:
    - RUN rustup toolchain install nightly && rustup override set nightly
    - ENTRYPOINT ["/bin/bash"]